import readAllDeath from "../api/readAllDeath.js"import React from 'react'import {useQuery} from 'react-query'import ClipLoader from 'react-spinners/ClipLoader'import { Line } from 'react-chartjs-2';import {Chart as ChartJS, LineElement, LinearScale, CategoryScale, PointElement} from 'chart.js'ChartJS.register(    CategoryScale,    LinearScale,    LineElement,    PointElement,)const LineGraph = () => {    const{isLoading, data: death_case} = useQuery("death", readAllDeath)    const average_death = {}    if(!isLoading){        for(const key in death_case){            if(!(death_case[key][0] in average_death)){                average_death[death_case[key][0]] = new Array();            }            average_death[death_case[key][0]].push(death_case[key][1])        }    }    for(const arr in average_death){        let average = average_death[arr].reduce((a,b)=>a+b)  ;        average = average/average_death[arr].length;        average_death[arr] = average    }    var graph_data = {        labels : Object.keys(average_death),        datasets: [            {                data: Object.values(average_death)            }        ]    }    return (        <div>            { isLoading ? (                <ClipLoader size={150} />            ) : (                <Line  data = {graph_data}/>               )}        </div>    )}export default LineGraph;